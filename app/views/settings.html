<div class="modal-header">
    <h2 style="display:inline">Settings</h2>
    <button ng-click="cancel()" type="button" class="close">&times;</button>
</div>

<form class="form-horizontal modal-body" name="$parent.settings">

    <div class="form-group">
        <label class="col-sm-2 control-label">First Name</label>
        <div class="col-sm-10">
            <input ng-model="profile.firstName" name="firstName" type="text" class="form-control" placeholder="{{profile.firstName}}">
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-sm-2 control-label">Last Name</label>
        <div class="col-sm-10">
            <input ng-model="profile.lastName" name="lastName" type="text" class="form-control" placeholder="{{profile.lastName}}">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Username</label>
        <div class="col-sm-10">
            <input ng-model="profile.username" name="username" type="text" class="form-control" placeholder="{{profile.username}}" disabled>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Email</label>
        <div class="col-sm-10">
            <input ng-model="profile.email" name="email" type="email" class="form-control" placeholder="{{profile.email}}" disabled
            data-toggle="tooltip" data-placement="bottom" title="Currently do not support editing email address.">
            <p class="field-error" ng-show="hasFieldError(settings['email'], 'email')">Are you sure this email is correct?</p>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label">Password</label>
        <div class="col-sm-10" id="password">
            <a ng-click="changePassword()">Change your password.</a>
        </div>
    </div>

<!-- TODO Not yet implemented in backend.     
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10 checkbox">
            <label>
                <input type="checkbox" disabled> I would like to be contacted with questions regarding this study.
            </label>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10 checkbox">
            <label>
                <input type="checkbox" disabled> I would like to be contacted about future studies that may be of interest to me.
            </label>
        </div>
    </div> -->
    
    <section id="consented">
        <div ng-show="session.consented">
            <div class="well well-sm">
                <h4>I would like a copy of the consent document.</h4>
                <p><a ng-click="emailConsent()">Click here</a> if you would like to be emailed a copy of the consent document.</p>
            </div>    
        </div>

        <!-- TODO Not yet implemented in backend.
        <div ng-hide="session.consented">
            <div class="well well-sm">
                <h3>I would like to re-enroll in the study.</h4>
                <p><a ng-click="reenroll()">Click here</a> if you would like to re-enroll in the study.</p>
            </div>
        </div>

        <div class="well well-sm">
            <h4>I would like to download a copy of my data.</h4>
            <p><a ng-click="downloadData()">Click here</a> to download a copy of my data.</p>
        </div> -->
    </section>

    <section id="dataSharing">
        <div ng-show="session.dataSharing">
            <div class="well well-sm">
                <h4>I would like to suspend data sharing.</h4>
                <p><a ng-click="suspendDataSharing()">Click here</a> if you would like to suspend data sharing.</p>
            </div>
        </div>

        <div ng-hide="session.dataSharing">
            <div class="well well-sm">
                <h4>I would like to resume data sharing.</h4>
                <p><a ng-click="resumeDataSharing()">Click here</a> if you would like to resume data sharing.</p>
            </div>
        </div>
    </section>
</form>

<alert ng-show="message" class="text-{{messageType}}" style="text-align:center">{{message}}</alert>

<div class="modal-footer">
    <div class="col-sm-offset-2 col-sm-10">
        <button ng-click="cancel()" class="btn btn-default">Cancel</button>
        <button ng-click="submit()" class="btn btn-primary">Update Settings</button>
    </div>
</div>